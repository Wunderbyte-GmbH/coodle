(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"4vxA":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreSitePluginsPluginPageModule",(function(){return S}));var i=n("tyNb"),o=n("L3Fv"),l=n("MLi9"),a=n("mrSG"),c=n("pHTc"),r=n("bFG1"),u=n("BTA1"),s=n("S7NA"),g=n("3LXp"),d=n("j3ag"),P=n("fXoL"),p=n("TEn/"),f=n("ofXK"),m=n("nt/U"),h=n("3CSS"),_=n("sYmb");function CoreSitePluginsPluginPage_ion_back_button_3_Template(e,t){1&e&&(P.zc(0,"ion-back-button",9),P.Pc(1,"translate")),2&e&&P.Vc("routerLink","/main/coodlelanding")("text",P.Qc(1,2,"core.back"))}function CoreSitePluginsPluginPage_h1_7_Template(e,t){if(1&e&&(P.Ec(0,"h1"),P.pd(1),P.Pc(2,"translate"),P.Dc()),2&e){const e=P.Oc();P.lc(1),P.qd(P.Qc(2,1,e.title))}}function CoreSitePluginsPluginPage_h1_8_Template(e,t){if(1&e&&(P.Ec(0,"h1"),P.pd(1),P.Pc(2,"translate"),P.Dc()),2&e){const e=P.Oc();P.lc(1),P.qd(P.Qc(2,1,e.titleLocal))}}function CoreSitePluginsPluginPage_ion_fab_15_Template(e,t){if(1&e){const e=P.Fc();P.Ec(0,"ion-fab",10),P.Ec(1,"ion-fab-button",11),P.Mc("click",(function CoreSitePluginsPluginPage_ion_fab_15_Template_ion_fab_button_click_1_listener(){P.fd(e);return P.Oc().uploadFile()})),P.zc(2,"ion-icon",12),P.Dc(),P.Dc()}}let v=(()=>{class CoreSitePluginsPluginPage{constructor(){this.ptrEnabled=!1,this.isPluginTitle=!1}ngOnInit(){var e,t;this.comingFromCoodle=c.a.getRouteParam("comingFromCoodle"),this.component=c.a.getRouteParam("component"),this.method=c.a.getRouteParam("method"),this.args=c.a.getRouteParam("args"),this.initResult=c.a.getRouteParam("initResult"),this.jsData=c.a.getRouteParam("jsData"),this.preSets=c.a.getRouteParam("preSets"),this.ptrEnabled=!r.a.isFalseOrZero(c.a.getRouteBooleanParam("ptrEnabled")),(null===(e=c.a.getRouteParam("title"))||void 0===e?void 0:e.startsWith("plugin"))&&(this.title=null===(t=c.a.getRouteParam("title"))||void 0===t?void 0:t.replace("plugin","addon"));const n=d.I.currentLang,i=d.I.getTranslation("de").subscribe((e=>console.log("lang",n,i,e)))}refreshData(e){var t;null===(t=this.content)||void 0===t?void 0:t.refreshContent(!1).finally((()=>{e.complete()}))}ionViewWillEnter(){var e;null===(e=this.content)||void 0===e?void 0:e.callComponentFunction("ionViewWillEnter")}ionViewDidEnter(){var e;null===(e=this.content)||void 0===e?void 0:e.callComponentFunction("ionViewDidEnter")}ionViewWillLeave(){var e;null===(e=this.content)||void 0===e?void 0:e.callComponentFunction("ionViewWillLeave")}ionViewDidLeave(){var e;null===(e=this.content)||void 0===e?void 0:e.callComponentFunction("ionViewDidLeave")}ionViewWillUnload(){var e;null===(e=this.content)||void 0===e?void 0:e.callComponentFunction("ionViewWillUnload")}canLeave(){return Object(a.a)(this,void 0,void 0,(function*(){if(!this.content)return!0;const e=yield this.content.callComponentFunction("canLeave");return null==e||!!e}))}uploadFile(){var e;return Object(a.a)(this,void 0,void 0,(function*(){console.log("upload");try{yield s.a.uploadPrivateFile(this.filesInfo,this.title),null===(e=this.content)||void 0===e||e.refreshContent(!1)}catch(e){g.a.showErrorModalDefault(e,"core.fileuploader.errorwhileuploading",!0)}}))}}return CoreSitePluginsPluginPage.ɵfac=function CoreSitePluginsPluginPage_Factory(e){return new(e||CoreSitePluginsPluginPage)},CoreSitePluginsPluginPage.ɵcmp=P.sc({type:CoreSitePluginsPluginPage,selectors:[["page-core-site-plugins-plugin"]],viewQuery:function CoreSitePluginsPluginPage_Query(e,t){var n;(1&e&&P.ud(u.a,!0),2&e)&&(P.dd(n=P.Nc())&&(t.content=n.first))},decls:16,vars:18,consts:[["slot","start"],["style","display: block;",3,"routerLink","text",4,"ngIf"],[3,"text"],[4,"ngIf"],["slot","end"],["slot","fixed",3,"disabled","ionRefresh"],[3,"pullingText"],[3,"component","method","args","preSets","initResult","data","pageTitle"],["slot","fixed","vertical","bottom","horizontal","end",4,"ngIf"],[2,"display","block",3,"routerLink","text"],["slot","fixed","vertical","bottom","horizontal","end"],[3,"click"],["name","add"]],template:function CoreSitePluginsPluginPage_Template(e,t){1&e&&(P.Ec(0,"ion-header"),P.Ec(1,"ion-toolbar"),P.Ec(2,"ion-buttons",0),P.nd(3,CoreSitePluginsPluginPage_ion_back_button_3_Template,2,4,"ion-back-button",1),P.zc(4,"ion-back-button",2),P.Pc(5,"translate"),P.Dc(),P.Ec(6,"ion-title"),P.nd(7,CoreSitePluginsPluginPage_h1_7_Template,3,3,"h1",3),P.nd(8,CoreSitePluginsPluginPage_h1_8_Template,3,3,"h1",3),P.Dc(),P.zc(9,"ion-buttons",4),P.Dc(),P.Dc(),P.Ec(10,"ion-content"),P.Ec(11,"ion-refresher",5),P.Mc("ionRefresh",(function CoreSitePluginsPluginPage_Template_ion_refresher_ionRefresh_11_listener(e){return t.refreshData(e.target)})),P.zc(12,"ion-refresher-content",6),P.Pc(13,"translate"),P.Dc(),P.zc(14,"core-site-plugins-plugin-content",7),P.Dc(),P.nd(15,CoreSitePluginsPluginPage_ion_fab_15_Template,3,0,"ion-fab",8)),2&e&&(P.lc(3),P.Vc("ngIf",t.comingFromCoodle),P.lc(1),P.Vc("text",P.Qc(5,14,"core.back")),P.lc(3),P.Vc("ngIf",t.title&&!t.isPluginTitle),P.lc(1),P.Vc("ngIf",t.isPluginTitle&&t.titleLocal),P.lc(3),P.Vc("disabled",!t.ptrEnabled||!t.content||!t.content.dataLoaded),P.lc(1),P.Wc("pullingText",P.Qc(13,16,"core.pulltorefresh")),P.lc(2),P.Vc("component",t.component)("method",t.method)("args",t.args)("preSets",t.preSets)("initResult",t.initResult)("data",t.jsData)("pageTitle",t.title),P.lc(1),P.Vc("ngIf","plugin.local_coodle.dok1"===t.title||"plugin.local_coodle.dok3"===t.title||"addon.local_coodle.dok1"===t.title||"addon.local_coodle.dok3"===t.title))},directives:[p.C,p.Ab,p.m,f.t,p.h,p.i,p.yb,m.a,p.v,p.bb,p.cb,u.a,i.j,p.Nb,p.x,p.y,p.D,h.a],pipes:[_.d],encapsulation:2}),CoreSitePluginsPluginPage})();var b=n("w9Bf");const C=[{path:"",component:v,canDeactivate:[l.a]}];let S=(()=>{class CoreSitePluginsPluginPageModule{}return CoreSitePluginsPluginPageModule.ɵmod=P.wc({type:CoreSitePluginsPluginPageModule}),CoreSitePluginsPluginPageModule.ɵinj=P.vc({factory:function CoreSitePluginsPluginPageModule_Factory(e){return new(e||CoreSitePluginsPluginPageModule)},imports:[[i.m.forChild(C),o.a,b.a],i.m]}),CoreSitePluginsPluginPageModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&P.kd(S,{declarations:[v],imports:[i.m,o.a,b.a],exports:[i.m]}))}}]);