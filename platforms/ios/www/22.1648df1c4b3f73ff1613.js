(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"4vxA":function(e,t,n){"use strict";n.r(t),n.d(t,"CoreSitePluginsPluginPageModule",(function(){return C}));var i=n("tyNb"),o=n("L3Fv"),l=n("MLi9"),a=n("mrSG"),c=n("pHTc"),r=n("bFG1"),u=n("BTA1"),s=n("S7NA"),g=n("3LXp"),d=n("fXoL"),P=n("TEn/"),p=n("ofXK"),m=n("nt/U"),f=n("3CSS"),h=n("sYmb");function CoreSitePluginsPluginPage_ion_back_button_3_Template(e,t){1&e&&(d.zc(0,"ion-back-button",9),d.Pc(1,"translate")),2&e&&d.Vc("routerLink","/main/coodlelanding")("text",d.Qc(1,2,"core.back"))}function CoreSitePluginsPluginPage_h1_7_Template(e,t){if(1&e&&(d.Ec(0,"h1"),d.pd(1),d.Pc(2,"translate"),d.Dc()),2&e){const e=d.Oc();d.lc(1),d.qd(d.Qc(2,1,e.title))}}function CoreSitePluginsPluginPage_ion_fab_14_Template(e,t){if(1&e){const e=d.Fc();d.Ec(0,"ion-fab",10),d.Ec(1,"ion-fab-button",11),d.Mc("click",(function CoreSitePluginsPluginPage_ion_fab_14_Template_ion_fab_button_click_1_listener(){d.fd(e);return d.Oc().uploadFile()})),d.zc(2,"ion-icon",12),d.Dc(),d.Dc()}}let b=(()=>{class CoreSitePluginsPluginPage{constructor(){this.ptrEnabled=!1}ngOnInit(){this.comingFromCoodle=c.a.getRouteParam("comingFromCoodle"),this.title=c.a.getRouteParam("title"),this.component=c.a.getRouteParam("component"),this.method=c.a.getRouteParam("method"),this.args=c.a.getRouteParam("args"),this.initResult=c.a.getRouteParam("initResult"),this.jsData=c.a.getRouteParam("jsData"),this.preSets=c.a.getRouteParam("preSets"),this.ptrEnabled=!r.a.isFalseOrZero(c.a.getRouteBooleanParam("ptrEnabled"))}refreshData(e){var t;null===(t=this.content)||void 0===t?void 0:t.refreshContent(!1).finally((()=>{e.complete()}))}ionViewWillEnter(){var e;null===(e=this.content)||void 0===e?void 0:e.callComponentFunction("ionViewWillEnter")}ionViewDidEnter(){var e;null===(e=this.content)||void 0===e?void 0:e.callComponentFunction("ionViewDidEnter"),this.title=c.a.getRouteParam("title")}ionViewWillLeave(){var e;null===(e=this.content)||void 0===e?void 0:e.callComponentFunction("ionViewWillLeave")}ionViewDidLeave(){var e;null===(e=this.content)||void 0===e?void 0:e.callComponentFunction("ionViewDidLeave")}ionViewWillUnload(){var e;null===(e=this.content)||void 0===e?void 0:e.callComponentFunction("ionViewWillUnload")}canLeave(){return Object(a.a)(this,void 0,void 0,(function*(){if(!this.content)return!0;const e=yield this.content.callComponentFunction("canLeave");return null==e||!!e}))}uploadFile(){var e;return Object(a.a)(this,void 0,void 0,(function*(){console.log("upload");try{yield s.a.uploadPrivateFile(this.filesInfo,this.title),null===(e=this.content)||void 0===e||e.refreshContent(!1)}catch(e){g.a.showErrorModalDefault(e,"core.fileuploader.errorwhileuploading",!0)}}))}}return CoreSitePluginsPluginPage.ɵfac=function CoreSitePluginsPluginPage_Factory(e){return new(e||CoreSitePluginsPluginPage)},CoreSitePluginsPluginPage.ɵcmp=d.sc({type:CoreSitePluginsPluginPage,selectors:[["page-core-site-plugins-plugin"]],viewQuery:function CoreSitePluginsPluginPage_Query(e,t){var n;(1&e&&d.ud(u.a,!0),2&e)&&(d.dd(n=d.Nc())&&(t.content=n.first))},decls:15,vars:17,consts:[["slot","start"],["style","display: block;",3,"routerLink","text",4,"ngIf"],[3,"text"],[4,"ngIf"],["slot","end"],["slot","fixed",3,"disabled","ionRefresh"],[3,"pullingText"],[3,"component","method","args","preSets","initResult","data","pageTitle"],["slot","fixed","vertical","bottom","horizontal","end",4,"ngIf"],[2,"display","block",3,"routerLink","text"],["slot","fixed","vertical","bottom","horizontal","end"],[3,"click"],["name","add"]],template:function CoreSitePluginsPluginPage_Template(e,t){1&e&&(d.Ec(0,"ion-header"),d.Ec(1,"ion-toolbar"),d.Ec(2,"ion-buttons",0),d.nd(3,CoreSitePluginsPluginPage_ion_back_button_3_Template,2,4,"ion-back-button",1),d.zc(4,"ion-back-button",2),d.Pc(5,"translate"),d.Dc(),d.Ec(6,"ion-title"),d.nd(7,CoreSitePluginsPluginPage_h1_7_Template,3,3,"h1",3),d.Dc(),d.zc(8,"ion-buttons",4),d.Dc(),d.Dc(),d.Ec(9,"ion-content"),d.Ec(10,"ion-refresher",5),d.Mc("ionRefresh",(function CoreSitePluginsPluginPage_Template_ion_refresher_ionRefresh_10_listener(e){return t.refreshData(e.target)})),d.zc(11,"ion-refresher-content",6),d.Pc(12,"translate"),d.Dc(),d.zc(13,"core-site-plugins-plugin-content",7),d.Dc(),d.nd(14,CoreSitePluginsPluginPage_ion_fab_14_Template,3,0,"ion-fab",8)),2&e&&(d.lc(3),d.Vc("ngIf",t.comingFromCoodle),d.lc(1),d.Vc("text",d.Qc(5,13,"core.back")),d.lc(3),d.Vc("ngIf",t.title),d.lc(3),d.Vc("disabled",!t.ptrEnabled||!t.content||!t.content.dataLoaded),d.lc(1),d.Wc("pullingText",d.Qc(12,15,"core.pulltorefresh")),d.lc(2),d.Vc("component",t.component)("method",t.method)("args",t.args)("preSets",t.preSets)("initResult",t.initResult)("data",t.jsData)("pageTitle",t.title),d.lc(1),d.Vc("ngIf","plugin.local_coodle.dok1"===t.title||"plugin.local_coodle.dok3"===t.title))},directives:[P.C,P.Ab,P.m,p.t,P.h,P.i,P.yb,m.a,P.v,P.bb,P.cb,u.a,i.j,P.Nb,P.x,P.y,P.D,f.a],pipes:[h.d],encapsulation:2}),CoreSitePluginsPluginPage})();var _=n("w9Bf");const v=[{path:"",component:b,canDeactivate:[l.a]}];let C=(()=>{class CoreSitePluginsPluginPageModule{}return CoreSitePluginsPluginPageModule.ɵmod=d.wc({type:CoreSitePluginsPluginPageModule}),CoreSitePluginsPluginPageModule.ɵinj=d.vc({factory:function CoreSitePluginsPluginPageModule_Factory(e){return new(e||CoreSitePluginsPluginPageModule)},imports:[[i.m.forChild(v),o.a,_.a],i.m]}),CoreSitePluginsPluginPageModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&d.kd(C,{declarations:[b],imports:[i.m,o.a,_.a],exports:[i.m]}))}}]);